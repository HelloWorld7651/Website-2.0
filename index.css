* { box-sizing: border-box; margin: 0; padding: 0; }

html { overflow-y: scroll; height: 100%; font: 100%/1.5 sans-serif; word-wrap: break-word; }
body { margin: 0 auto; padding: 5%; }

@media (min-width: 768px) {
    html { font-size: 125%; }
}

h1, h2, h3, h4 { margin: 1.5rem 0 1.5rem 0; line-height: 1.25; color: #333; scroll-margin-top: 80px; }
a { color: #cd539e; text-decoration: none; }
a:hover, a:focus, a:active { text-decoration: underline; }
p { margin: 1em 0; line-height: 1.5; }
p code { background-color: #eee; padding: 0.05em 0.2em; border: 1px solid #ccc; }
ol, ul { margin: 1em; }
ol li ol, ol li ul, ul li ol, ul li ul { margin: 0 2em; }
ol li p, ul li p { margin: 0; }
dl { font-family: monospace, monospace; }
dl dt { font-weight: bold; }
dl dd { margin: -1em 0 1em 1em; }
img { max-width: 100%; display: block; margin: 0 auto; padding: 0.5em; }
blockquote { padding-left: 1em; font-style: italic; border-left: solid 1px #cd539e; }
table { font-size: 1rem; text-align: left; caption-side: bottom; margin-bottom: 2em; }
table * { border: none; }
table thead, table tr { display: table; table-layout: fixed; width: 100%; }
table tr:nth-child(even) { background-color: rgba(200,200,200,0.2); }
table tbody { display: block; max-height: 70vh; overflow-y: auto; }
table td, table th { padding: 0.25em; }
table, .highlight > pre, pre.example { max-height: 70vh; margin: 1em 0; padding: 1em; overflow: auto; font-size: 0.85rem; font-family: monospace, monospace; border: 1px dashed rgba(250,100,50,0.5); }
.title { font-size: 2.5em; }
.subtitle { font-weight: normal; font-size: 0.75em; color: #666; }
.tags { margin-top: -1.5rem; padding-bottom: 1.5em; }
.tags li { display: inline; margin-right: 0.5em; }
figure { margin: 1em 0; }
figure figcaption { font-family: monospace, monospace; font-size: 0.75em; text-align: center; color: grey; }
.footnote-definition sup { margin-left: -1.5em; float: left; }
.footnote-definition .footnote-body { margin: 1em 0; padding: 0 1em; border: 1px dashed rgba(250, 100, 50, 0.3); background-color: rgba(200,200,200,0.2); }
.footnote-definition .footnote-body p:only-child { margin: 0.2em 0; }

body { max-width: 72rem; }

nav.toc {
    top: 1rem; max-height: calc(100vh - 2rem); overflow: auto; padding: 0.75rem 0.75rem; border-radius: 0.5rem; background: #f7f7f7;
}

.toc h2 { margin: 0 0 0.5rem 0; font-size: 1rem; color: #444; letter-spacing: .02em; }

.toc-list { list-style: none; margin: 0; padding-left: 0; }
.toc-item { margin: 0; }

.toc-link { display: block; padding: 0.25rem 0.5rem; text-decoration: none; border-radius: 0.375rem; line-height: 1.3; }
.toc-link:hover { background: rgba(250, 100, 50, 0.08); }

.depth-1 { padding-left: 0.25rem; font-weight: 700; }
.depth-2 { padding-left: 1.25rem; font-weight: 600; font-size: 0.95em; }
.depth-3 { padding-left: 2.25rem; font-weight: 500; font-size: 0.9em; }
.depth-4 { padding-left: 3.25rem; font-weight: 500; font-size: 0.9em; }

.toc-link[aria-current="true"] { background: #cd539e57; }

.toc-toggle { display: inline-flex; align-items: center; gap: .5rem; padding: .5rem .75rem; border-radius: .5rem; background: rgba(200,200,200,0.15); cursor: pointer; }
.toc-toggle span { font-size: .9rem; }

main { min-width: 0; }

html { scroll-behavior: smooth; }

/* === ADDED: simple top nav + button links (Chapters/Presentation) === */
.site-nav { display: flex; gap: 1rem; margin: 0 0 1rem 0; }
.site-nav a { text-decoration: none; }
.site-nav a[aria-current="page"] { font-weight: 700; text-decoration: underline; }

.btn { display: inline-block; border: 1px solid #e5e7eb; padding: .5rem .85rem; border-radius: .5rem; text-decoration: none; }
.btn:hover, .btn:focus { background: #f8fafc; }
